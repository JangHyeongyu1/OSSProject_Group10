#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#define WIDTH 13
#define HEIGTH 25
#define F_amount 30														//화면내의 F장애물의 갯수를 30개로 설정


typedef struct {
	int x;
	int y;
	int check;
}FGrades;
FGrades fgrade[F_amount];											//장애물 구조체와 오브젝트 생성

void CreateFGrades() {
	int i;
	srand((unsigned int)time(NULL));									//time()과 srand()함수 이용해 rand()함수 초기화

	for (i = 0; i < F_amount;  i++) {
		if (!fgrade[i].check) {
			fgrade[i].x = rand() % WIDTH;									//WIDTH가 13이므로 0~12중 무작위값이 fgradex에 저장
			fgrade[i].y = HEIGTH - 1;
			fgrade[i].check = 1;															//fgrade 오브젝트의 존재여부를 존재하면 1, 존재하지 않으면 0 으로 나타냄
			return;
		}
	}
}

void FallFGrades() {
	int i;
	for (i = 0; i < F_amount; i++) {
		if (fgrade[i].check) {											//fgrade가 존재한다면 해당 fgrade의y값을 계속해서 감소시켜준다.
			fgrade[i].y--;
		}
	}
}

int DeleteFGrades() {
	int i;
	for (i = 0; i < F_amount; i++) {
		if (fgrade[i].check&&fgrade[i].y<=0)							//fgrade가 존재하고, fgrade가 바닥에 닿았을 때 존재여부를 0으로 설정함
			fgrade[i].check = 0;
	}
	return 0;
}
